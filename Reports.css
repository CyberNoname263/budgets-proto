:root{
    --bg:#f6f8fa;
    --panel:#ffffff;
    --muted:#6b7280;
    --accent:#39C6D6;
    --accent2:#F08A7D;
    --border:#e6e9ee;
    --shadow: 0 10px 30px rgba(11,22,35,0.06);
    --success:#17a2b8;
}
*{box-sizing:border-box;font-family:Inter, system-ui, -apple-system,'Segoe UI',Roboto,Arial;}
body{margin:0;background:var(--bg);color:#0f1724}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:transparent;position:sticky;top:0;z-index:20}
.brand{font-weight:700;font-size:18px}
.top-actions{display:flex;gap:8px}
.btn{background:var(--panel);border:1px solid var(--border);padding:8px 10px;border-radius:8px;cursor:pointer;box-shadow:var(--shadow)}
.primary{background:var(--accent);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
.small{padding:6px;font-size:13px}
.layout{display:grid;grid-template-columns:1fr 420px;gap:18px;padding:18px;align-items:start}
.panel{background:var(--panel);padding:14px;border-radius:12px;border:1px solid var(--border);box-shadow:var(--shadow)}
.panel-left{min-height:600px}
.controls-row{display:flex;gap:10px;align-items:center;margin-bottom:12px}
.summary-cards{display:flex;gap:12px;margin-bottom:12px}
.card.small{padding:10px;border-radius:10px;background:linear-gradient(180deg,#fff,#fbfdff);border:1px solid var(--border);flex:1}
.card .label{color:var(--muted);font-size:13px}
.card .amount{font-weight:700;font-size:18px;margin-top:6px}
.table-wrap{max-height:340px;overflow:auto;border-radius:8px;border:1px solid var(--border);margin-bottom:12px}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid var(--border);text-align:left}
.num{text-align:right}
.neg{color:#d9534f}
.pos{color:var(--success)}
.budget-editor{margin-top:16px}
.budget-controls{display:flex;gap:10px;align-items:center}
.budget-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:10px}
.budget-month{display:flex;flex-direction:column;gap:6px}
.budget-month label{font-size:12px;color:var(--muted)}
.budget-month input{padding:8px;border-radius:8px;border:1px solid var(--border)}
.budget-summary{margin-top:10px;font-weight:700}

.panel-right{min-height:600px}
.chart-cards{display:flex;gap:12px;margin-bottom:12px}
.chart-card{flex:1;background:linear-gradient(180deg,#fff,#fbfdff);padding:12px;border-radius:8px;border:1px solid var(--border)}
.ai-panel{margin-top:8px;padding:10px;border-radius:8px;border:1px solid var(--border);background:#fff}
.assistant-log{height:160px;overflow:auto;border:1px solid var(--border);padding:8px;border-radius:8px;margin-bottom:8px}
.assistant-msg{padding:8px;border-radius:8px;margin-bottom:6px}
.assistant-msg.assistant{background:#eef6f8}
.assistant-msg.user{background:#f7f7fb;text-align:right}
.assistant-controls{display:flex;gap:8px}
.assistant-controls input{flex:1;padding:8px;border-radius:8px;border:1px solid var(--border)}
.assistant-actions{display:flex;gap:8px;margin-top:8px}
.api-row{display:flex;gap:8px;margin-top:8px}
.footer{padding:12px 18px;color:var(--muted);font-size:13px}

@media (max-width:980px){
    .layout{grid-template-columns:1fr; padding:12px}
    .chart-cards{flex-direction:column}
    .budget-grid{grid-template-columns:repeat(2,1fr)}
}
